[pytest]
# Version minimale de pytest
minversion = 7.0

# Options par défaut
addopts = 
    -ra -q
    --cov=src
    --cov-report=xml:infra_technical/ci-cd/reports/coverage.xml
    --junitxml=infra_technical/ci-cd/reports/test-results.xml
    --log-file=infra_technical/ci-cd/reports/pytest.log
    --log-file-level=INFO

# Dossiers de tests
testpaths = 
    tests

# Fichiers de tests à découvrir
python_files = 
    test_*.py
    *_test.py

# Classes de tests
python_classes = 
    Test*
    *Tests

# Fonctions de tests
python_functions = 
    test_*

# Configuration des logs
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)s] %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

# Timeout par défaut pour éviter les tests bloqués
timeout = 30
